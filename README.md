# API Справочник

## Инструкция по запуску

### 1. Клонирование репозитория
Сделайте `git pull` данного репозитория для получения всех файлов проекта.

### 2. Настройка файла окружения `.env`
Используя в качестве примера `.env-example`, создайте файл `.env` рядом с файлом `docker-compose.yml` и заполните его следующими данными для корректного создания и запуска PostgreSQL базы данных в Docker Compose.

#### Поля .env:
- `DB_NAME=amplifier_db`
  Имя базы данных, к которой будет подключаться приложение.

- `DB_USER=amplifier_admin`
  Имя пользователя для подключения к базе данных.

- `DB_PASSWORD=amplifier_password`
  Пароль для пользователя базы данных.

- `DB_PORT=5432`
  Порт, на котором сервер базы данных принимает подключения.

### 3. Настройка файла окружения `.env` для backend
Используя `.env-example` из папки `backend`, создайте файл `.env` в папке `backend` и заполните его следующими данными.

#### Поля .env (backend):
- `SECRET_KEY=django-insecure-rc7q)twg*96+17g8p5v+j2m=q5$pq6+2a=x*1s2_&c-8u%g(^b`
  Секретный ключ Django.

- `DB_NAME=amplifier_db`
  Имя базы данных, должно совпадать с значением в основном `.env`.

- `DB_USER=amplifier_admin`
  Имя пользователя базы данных, должно совпадать с значением в основном `.env`.

- `DB_PASSWORD=amplifier_password`
  Пароль для пользователя базы данных, должно совпадать с значением в основном `.env`.

- `DB_PORT=5432`
  Порт базы данных, должно совпадать с значением в основном `.env`.

- `DB_HOST=postgres`
  Адрес сервера базы данных, должен совпадать с названием контейнера базы данных в `docker-compose.yml`.

### 4. Запуск проекта
Для запуска проекта выполните команду в папке с проектом:

```bash
docker compose up
```

### 5. Остановка проекта
Остановка проекта осуществляется через команду:

```bash
docker compose down
```

## API документация

Для API документации используется `drf-spectacular`. Документация доступна по следующему адресу:

[http://127.0.0.1:8000/api/schema/swagger-ui/](http://127.0.0.1:8000/api/schema/swagger-ui/)

---

## Асинхронные задачи

Для асинхронных задач используется `Celery`.

---

## Примеры файлов

Пример файла для загрузки в БД находится в файле:

- `materials.xlsx`

---

## Стек технологий

- **Python** — основной язык программирования для разработки серверной части.
- **Django Rest Framework** — фреймворк для создания RESTful API.
- **PostgreSQL** — реляционная база данных для хранения данных.
- **Celery** — инструмент для выполнения асинхронных задач.
- **Redis** — брокер сообщений для Celery, используется для хранения очередей задач.
